<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Globe</title>
        
	<style>
	    body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
        <style type="text/css">
            body {
                overflow:hidden;
            }
        </style>
        <meta charset="UTF-8">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5.1/dat.gui.min.js"></script>
    </head>
    <body>
        <video id="video" autoplay loop style="display:none">
		<source src="data/textures/video/cloudsShort.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
	</video>
        <script src="dist/itowns2.js"> </script>
        <script type="text/javascript">  

               var initCenter = { lon:2.3465, lat: 48.88, alt: 25000000};

               // iTowns namespace defined here
               itowns.viewer.createSceneGlobe(initCenter) ;

               // THIS IS AN EXAMPLE OF INTERFACE TO INTERACT WITH ITOWNS            
               var Menu = function() {
                   this.CloudsIR = false;
                   this.SatelliteAnimation = false;
                   this.RealisticLighting = false;
                   this.AnimateTime = false;
                   this.Orbit = false;
                   this.Layer = "OrthoGeoportail";
               };

               var text = new Menu(); 
               var gui = new dat.GUI();
               gui.close();

               gui.add(text, 'Layer', [ 'OrthoGeoportail', 'DarkMatterOSM' ] ).onChange(function(newValue) {
                   
                        var layer, baseUrl;
                        switch(newValue){
                            case "OrthoGeoportail": layer   = "ORTHOIMAGERY.ORTHOPHOTOS"; 
                                                    baseUrl = "http://wxs.ign.fr/";
                                                    break;
                                                    
                            case "DarkMatterOSM"  : layer   = "dark_all/";
                                                    baseUrl = "http://a.basemaps.cartocdn.com/";
                                                    break;
                        }
			itowns.viewer.setLayerAtLevel(baseUrl,layer,0);  // set layer at level n (0 -> top)
               });
               
               gui.add(text, 'CloudsIR').onChange(function(newValue) {
			itowns.viewer.showClouds(newValue, false);
               });
               
               gui.add(text, 'SatelliteAnimation').onChange(function(newValue) {
			itowns.viewer.showClouds(true, newValue);
               });
               
               gui.add(text, 'RealisticLighting').onChange(function(newValue) {
			itowns.viewer.setRealisticLightingOn(newValue);
               });
               
               gui.add(text, 'AnimateTime').onChange(function(newValue) {
			itowns.viewer.animateTime(newValue);
               });
               gui.add(text, 'Orbit').onChange(function(newValue) {
			itowns.viewer.orbit(newValue);
               });
               
            
        </script>     
    </body>
</html>
